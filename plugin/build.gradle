plugins {
    id "application"
    id "maven-publish"
    id "com.github.johnrengelman.shadow" version "7.1.1"
}

dependencies {
    compileOnly("com.github.TopiSenpai.Lavalink:plugin-api:20b8030")
    implementation project(":main")
}

shadowJar {
    def implementation = project.configurations.implementation
    implementation.canBeResolved(true)
    configurations = [implementation]
    archiveClassifier.set("")
}


publishing {
    publications {
        maven(MavenPublication) {
            pom {
                from components.java
                artifactId "lavasrc-plugin"
            }
        }
    }
}
